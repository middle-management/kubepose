apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    kubepose.container.type: app
    kubepose.service.group: myapp
  name: api
spec:
  selector:
    matchLabels:
      kubepose.service: api
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        kubepose.container.type: app
        kubepose.service: api
        kubepose.service.group: myapp
    spec:
      containers:
      - image: nginx
        imagePullPolicy: IfNotPresent
        name: api
        resources: {}
      - image: nginx
        imagePullPolicy: IfNotPresent
        name: web
        resources: {}
      initContainers:
      - image: fluentd
        imagePullPolicy: IfNotPresent
        name: logshipper
        resources: {}
        restartPolicy: Always
      restartPolicy: Always
status: {}

---
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    kubepose.container.type: init
    kubepose.service.group: myapp
  name: db-setup
spec:
  containers:
  - args:
    - echo
    - migrate
    image: alpine
    imagePullPolicy: IfNotPresent
    name: db-setup
    resources: {}
  restartPolicy: OnFailure
status: {}

---
apiVersion: v1
data:
  content: aHVzaAo=
immutable: true
kind: Secret
metadata:
  annotations:
    generated-from: kubepose
    kubepose.original-name: secret
    kubepose.secrets.hmac-key: kubepose.secrets.v1
  creationTimestamp: null
  name: secret-16e40588
type: Opaque
