services:
  secret-to-log:
    image: alpine
    command: ls -la /run/secrets /not/run/secrets
    restart: on-failure
    secrets:
      - source: very-secret
        target: secret
      - source: also-secret
        target: /not/run/secrets
      - labelled-secret
      - external-secret
      - env-secret

secrets:
  very-secret:
    file: ./secret.txt
  also-secret:
    file: ./secret.txt
  labelled-secret:
    file: ./secret.txt
    labels:
      - something=here
  env-secret:
    environment: ACE_IDENTITY
  external-secret:
    # external secrets can be used as a placeholder
    # for secrets that are managed by external systems, such as
    # external secrets or a key management service or just manual k8s secrets
    external: true
