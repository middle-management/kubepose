services:
  secret-to-log:
    image: alpine
    command: cat /run/secrets/*
    secrets:
      - source: very-secret
        target: secret
      - labelled
      - external
      - identity

secrets:
  very-secret:
    file: ./secret.txt
  labelled:
    file: ./secret.txt
    labels:
      - something=here
  external:
    # TODO external secrets can be used as a placeholder
    # for secrets that are managed by external systems, such as
    # external secrets or a key management service.
    external: true
  identity:
    environment: ACE_IDENTITY
